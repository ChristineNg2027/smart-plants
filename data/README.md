# Data Directory

## Structure

```
data/
├── raw/          # Raw CSV files from ESP32 or backend export
├── processed/    # Normalized numpy arrays for ML training
└── models/       # Saved PyTorch model checkpoints
```

## Raw CSV Schema

Files in `raw/` should be named `YYYY-MM-DD.csv` (or any `.csv`).

| Column | Type | Unit | Description |
|--------|------|------|-------------|
| `timestamp` | datetime string | — | ISO 8601 or parseable by pandas |
| `moisture` | float | % (0–100) | Soil volumetric moisture |
| `temperature` | float | °C | Ambient temperature |
| `humidity` | float | % (0–100) | Relative humidity |
| `light` | float | lux | Optional light level |

### Example row
```
timestamp,moisture,temperature,humidity,light
2024-03-01 08:00:00,65.2,22.1,58.4,320.0
```

## Processed Files (generated by `scripts/data_processing.py`)

| File | Shape | Description |
|------|-------|-------------|
| `X_train.npy` | (N, 24, 4) | Training sequences |
| `y_train.npy` | (N,) | Training targets (normalized moisture) |
| `X_val.npy` | (M, 24, 4) | Validation sequences |
| `y_val.npy` | (M,) | Validation targets |
| `scaler.pkl` | — | `MinMaxScaler` for denormalizing predictions |
| `val_errors.npy` | (M,) | Per-window reconstruction errors (anomaly detection) |
| `anomaly_threshold.npy` | (1,) | Learned anomaly threshold |

## Model Checkpoints

| File | Description |
|------|-------------|
| `best_model.pt` | Best validation loss checkpoint from `train.py` |
| `evaluation.png` | Predicted vs actual moisture plot |
